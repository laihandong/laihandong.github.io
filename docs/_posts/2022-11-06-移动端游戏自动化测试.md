# 移动端游戏自动化测试

## 1. 游戏测试现状

UI 自动化开发和维护成本高，投入性价比很低，而游戏又是一种界面千奇百怪又元素布局纷繁复杂的软件

游戏测试落后于现代互联网软件测试

游戏的cs通信所用协议通常为tcp，而不是http，常用协议测试工具是没法用的，同时也缺乏相关工具

游戏行业的测试广泛取决于具体公司的文化

游戏立项时一般不考虑给之后测试自动化

写个客户端作为测试工具？![10002](..\assets\10002.png)

游戏测试环境的搭建和测试数据的构造比传统软件测试领域要复杂

游戏测试不仅要测开发上的bug，还有策划上的bug，是因为游戏作为一种特殊的软件，需求变化大、不确定因素多 。



## 2. 结合我司需求

主要针对移动端游戏的测试，引擎以unity为主






## 3. 游戏测试细分领域

### 3.1 服务器性能测试

### 3.2 游戏客户端（APK&IPA）性能测试

android: CPU 内存 流量 耗电量 FPS 显存 GPU 流量 电量

### 3.3 移动设备兼容适配测试

特别是andorid

### 3.4 安全测试

内存修改、配置表修改、hook游戏动态修改、代码逆向分析、网络协议攻击

### 3.5 网络适应性测试

弱网测试、延迟、断网频率、丢包率、上下行带宽



## 4. 测试工具

一般都是讲自动化测试框架，且一般需要满足三个条件：

+ 稳定系统：已上线的或者需求变动较少的
+ 周期长：长期运行的，开发周期长的
+ 脚本复用：脚本可以重复使用以降低维护成本

### 4.1 UFT（QTP）！
QTP是一种基于GUI录制的自动化测试工具，用于在回归测试阶段的时候自动批量执行回归测试用例，QTP是记录用户浏览器的操作步骤数据等去达到录制回放的功能，主要应用于：功能测试、回归测试、service testing.使用UFT、你可以在网页或者基于客户端PC应用程序上、自动模拟用户行为、在不同windows操作系统以及不同的浏览器间、为不同的用户和数据集测试相同的动作行为。当有计划并且适当的方式使用UFT时、可以节省大量的时间和成本。随着11.50版本的发布、QTP 和 Service Test 成为了UFT11.50软件组件中的一部分

### 4.2 Selenium
它是一个web自动化测试工具，免费小巧，支持分布式测试用例的执行，可以把测试用例分布到不同的测试机器执行，相当于分发机的功能。Selenium测试直接运行在浏览器中，就像真正的用户在操作一样。完全开源

### 4.3 Appium
appium是移动端最主流的开源自动化测试框架。开源，免费，跨平台（IOS、Android、H5、Windows）。基于Selenium实现、基于JDK+SDK环境运行、现只有Desktop版。支持多语言，因为选择cs设计模式，靠c发送http请求给s即可。


### 4.4 Postman
Postman是一个接口测试工具，在做接口测试的时候，Postman相当于一个客户端，它可以模拟用户发起的各类HTTP请求，将请求数据发送至服务端，获取对应的响应结果，

### 4.5 JMeter
Apache JMeter是Apache组织开发的基于Java的压力测试工具。用于对软件做压力测试，它最初被设计用于Web应用测试，但后来扩展到其他测试领域。能够对HTTP和FTP服务器进行压力和性能测试， 也可以对任何数据库进行同样的测试（通过JDBC）。


### 4.6 Katalon Studio
Katalon是在Selemium相同的内核上构建起来的一个自动化测试工具，用的是Java和Apache Groovy作为其脚本开发语言
涵盖的测试范围广：
+ Web 的UI自动化
+ API自动化
+ 移动客户端（手机APP）自动化
+ 桌面客户端自动化

可视化操作，内部集成多，外部集成多，主流框架

### 4.7 TestComplete！
Testcomplete是SmartBear公司开发的一款自动化测试工具，主要应用于UI的自动化测试，收费的。利用自动化测试工具和人工智能支持的混合对象识别引擎，轻松检测和测试每个桌面，Web和移动应用程序。支持.NET,Java,Visual C++, Visual Basic, Delphi, C++Builder 和web应用程序


### 4.8 SoapUI
SoapUI是用于Webservice接口的测试工具，可以是SOAP Webservice以及RESTful Webservice或基于HTTP的服务，SoapUI是一个开放源代码且完全免费的工具，因为是基于Java开发的，因此它可以Windows、Mac和Linux系统上进行了接口测试，在业界被视为API service测试的的标准工具。
它通过soap/http来检查、调用、实现Web Service的功能/负载/符合性测试。SoapUI可用于完整的RESTful API和SOAP Web Service测试。您可以进行功能测试，性能测试，互操作性测试，回归测试等等。

### 4.9 PerfDog！
PerfDog性能狗是移动全平台iOS\Android性能测试工具平台，快速定位分析性能问题，提升APP应用及游戏性能和品质，收集无需ROOT/越狱，手机硬件、游戏及应用无需做任何更改，极简化即插即用。

### 4.10 mobileperf
mobileperf是阿里开源的一个python PC 工具，可以收集Android性能数据: cpu、内存、流畅度、fps、logcat日志、流量、进程线程数、进程启动日志，mobileperf也支持原生monkey test。

### 4.11 PyAutoGUI
PyAutoGUI允许Python脚本控制鼠标和键盘，并自动与其他应用程序交互。PyAutoGUI的API设计很简单，非常容易上手，PyAutoGUI适用于 Windows、macOS和Linux系统，支持在Python2和3上运行。PyAutoGUI安装很简单。
+ 移动鼠标并单击其他应用程序的窗口。
+ 向应用程序发送击键信号，如填写表格。
+ 截取屏幕截图，并给出一个图像（例如，按钮或复选框的图像），然后在屏幕上找到它。
+ 找到应用程序的窗口，移动、调整大小、最大化、最小化或关闭它（目前仅适用于 Windows）。
+ 显示警报和消息框
+ PyAutoGUI只能处理主屏幕，双屏幕不支持。也无法确定当前键盘某个键是否被按下

### 4.12 pywinauto
Pywinauto是基于Python开发的，用于自动化测试的脚本模块，主要操作于Windows标准图形界面。它可以允许你很容易的发送鼠标、键盘动作给Windows的对话框和控件。


### 4.13 k6
k6是高性能的负载测试工具，也是一种高性能工具，旨在在预生产和QA环境中以高负载运行测试
K6是一个开源的测试工具，底层用GO语言编写，测试代码是采用javascript编写，可以灵活的配置，是一款针对开发人员和测试人员都很友好的命令行性能测试工具

### 4.14 Locust
Locust是开源的使用Python开发，基于事件，支持分布式并且提供Web UI进行测试执行和结果展示的性能测试工具。
locust是一款完全基于事件的负载测试工具，做性能测试使用的‘协程’方式，有webui图形界面、无图形界面、分布式等多种运行方式


### 4.15 Mimesis
用于 Python 的高性能假数据生成器，它以多种语言提供用于多种用途的数据，用于安全测试

### 4.16 冰狐辅助
在移动端上提供js版本的辅助api,支持在线实时调试。支持多台设备同时在线调试脚本，在线实时获取所有设备的UI树和log信息。不再需要掌握android那套复杂的调试方法。支持通过“搭积木”、配置参数的方式构建辅助脚本.在后端支持SaaS服务,支持微服务

### 4.17 Auto.js
Auto.js是开源软件，支持自定义编写脚本 ，所运行的脚本代码全部可见，可在一定程度上保障安全性，也因此它备受用户的推崇。





## 5. 测试框架

### 5.1 TestNG

### 5.2 unittest

### 5.3 pytest

### 5.4 Robot Framework

### 5.5 Airtest！

### 5.6 Mock

### 5.7 Mockito

### 5.8 WireMock

### 5.9 pytest-mock

### 5.10 Robolectric

### 5.11 taurus

## 6. 测试管理工具

### 6.1 AgileTC

### 6.2 TestLink

### 6.3 Kiwi

### 6.4 MeterSphere



> 参考文档：[程序员必备的各种测试工具、框架和平台 - 知乎 (zhihu.com)](https://zhuanlan.zhihu.com/p/443736575)
> https://testerhome.com/topics/23080
